<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="p:domain_verify" content="de80232cc08cc10207e04763fdf2f92f" />
    <link rel="icon" href="./favicon.ico" type="image/x-icon" />
    <link rel="manifest" href="./manifest.json" />
    <title>PoetryEditor</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="pickr.classic.min.css" />
  </head>
  <body>
    <button id="downloadButton"><p></p></button>
    <div id="sidebar" class="sidebar">
      <div class="raw">
        <div class="column">
          <button id="toggleButton"><p>&lt;</p></button>
        </div>

        <div class="spacedColumn">
          <!-- Основные текста -->
          <div>
            <label for="textAreaTitle">Название:</label>
            <textarea id="textAreaTitle" rows="2" cols="30">
Неизведанная
неизбежность</textarea
            >
          </div>

          <div>
            <label for="textAreaText">Текст произведения:</label>
            <textarea id="textAreaText" rows="10" cols="30">
Перед тобой есть два пути,
Пойдёшь лишь тем, что пожелаешь.
Один: короткий и тернист,
Второй: свободен и извилист.

Но все пути ведут туда,
Где неизведанная мыслью,
Терра-инкогнито земля,
Что иногда в кошмарах снится.

Презрев желания, мечты,
Ступив на путь во тьму манящий,
Перед вратами пустоты,
Оставь надежду всяк стоящий.</textarea
            >
          </div>

          <div>
            <label for="textAreaSign">Имя/псевдоним:</label>
            <textarea id="textAreaSign" rows="2" cols="30">
МРАЧНЫЕ СТИХИ 
(БЫЧКОВ ДМИТРИЙ)</textarea
            >
          </div>
          <!-- заливка, градиент и цвета -->

          <div class="raw">
            <label for="colorPicker">Цвет заливки:</label>
            <div id="colorPicker"></div>
          </div>
          <div>
            <label for="sliderHightGradient">Размер градиента:</label>
            <input
              type="range"
              id="sliderHightGradient"
              min="10"
              max="1500"
              step="1"
              value="500"
            />
          </div>

          <div class="raw">
            <label for="colorText">Цвет текста:</label>
            <div id="colorText"></div>
          </div>

          <div>
            <label for="colorSign">Цвет имени:</label>
            <select id="colorSign">
              <option value="#bababa">Светлый</option>
              <option value="#808080" selected>Полутон</option>
              <option value="#444444">Тёмный</option>
            </select>
          </div>

          <!-- Высота и иллюстрация -->
          <div>
            <label for="sliderHightCanvas">Добавить высоту: </label>
            <input
              type="range"
              id="sliderHightCanvas"
              min="0"
              max="2000"
              value="0"
            />
          </div>
          <div>
            <label for="sliderWidthCanvas">Добавить ширину: </label>
            <input
              type="range"
              id="sliderWidthCanvas"
              min="0"
              max="500"
              value="0"
            />
          </div>

          <div>
            <label for="imageInput">Открыть изображение</label>
            <input type="file" id="imageInput" accept="image/*" />
          </div>
          <div>
            <label for="sliderScaleImage">Масштаб изображения: </label>
            <input
              type="range"
              id="sliderScaleImage"
              min="0.01"
              max="3"
              step="0.01"
              value="2.1"
            />
          </div>
        </div>
      </div>
    </div>
    <canvas id="myCanvas" width="1080" height="1920"></canvas>
    <div id="toast" class="toast"></div>
    <script src="pickr.min.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/PoetryEditor/service-worker.js")
          .then((registration) => {
            console.log("Service Worker зарегистрирован:", registration);
          })
          .catch((error) => {
            console.error("Ошибка при регистрации Service Worker:", error);
          });
      }
    </script>
    <script>
      function initBridge() {
        vkBridge.send("VKWebAppInit");
        console.log(`initBridge()`);
      }
    </script>
    <script
      src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"
      onload="initBridge()"
    ></script>
    <script src="script.js?v=1.0.14"></script>
  </body>
</html>
